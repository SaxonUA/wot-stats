<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω–∏ WoT</title>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: sans-serif;
      text-align: center;
    }
    h1 {
      margin-top: 20px;
    }
    canvas {
      background: #222;
      border-radius: 50%;
      box-shadow: 0 0 15px #444;
    }
    .wheel-wrapper {
      position: relative;
      display: inline-block;
      margin-top: 10px;
    }
    .arrow {
      width: 0;
      height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 35px solid red;
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%) rotate(180deg);
      z-index: 10;
    }
    button {
      margin-top: 20px;
      padding: 10px 25px;
      font-size: 16px;
      background: linear-gradient(145deg, #ff6600, #1a1a1a);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: all 0.2s ease-in-out;
    }
    button:hover {
      background: linear-gradient(145deg, #ff8800, #2a2a2a);
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.35);
    }
    .result {
      margin-top: 10px;
      font-size: 22px;
      font-weight: bold;
      color: #ff9900;
    }
    .wheel-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 50px;
      margin-top: 30px;
    }
    #battle-task {
      margin-top: 30px;
      padding: 10px 15px;
      border-radius: 10px;
      background: repeating-linear-gradient(
        135deg,
        rgba(255,102,0,0.15),
        rgba(255,102,0,0.15) 10px,
        rgba(255,255,255,0.05) 10px,
        rgba(255,255,255,0.05) 20px
      );
      border: 2px solid #ff6600;
      color: #fff;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }
    #battle-task h2 {
      color: #ff6600;
      margin: 5px 0 10px;
    }
    #battle-task .task-tank,
    #battle-task .task-mission {
      font-size: 18px;
      font-weight: bold;
      color: #fff;
    }
  </style>
</head>
<body>
  <h1>üéØ –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω–∏ –≤—ñ–¥ –ú–ê–†–ö–ê üéØ</h1>
  <div class="wheel-container">
    <div>
      <div class="wheel-wrapper">
        <div class="arrow"></div>
        <canvas id="tankWheel" width="300" height="300"></canvas>
      </div>
      <div class="result" id="tankResult">...</div>
      <button onclick="spin('tank')">–ö—Ä—É—Ç–∏—Ç–∏ —Ç–∞–Ω–∫</button>
    </div>
    <div>
      <div class="wheel-wrapper">
        <div class="arrow"></div>
        <canvas id="missionWheel" width="300" height="300"></canvas>
      </div>
      <div class="result" id="missionResult">...</div>
      <button onclick="spin('mission')">–ö—Ä—É—Ç–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è</button>
    </div>
  </div>
  <div id="battle-task">
    <h2>–ó–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –±—ñ–π</h2>
    <div class="task-tank" id="taskTank">...</div>
    <div class="task-mission" id="taskMission">...</div>
  </div>

  <script>
    const tanks = ["IS-7", "Maus", "T110E5", "AMX 50 B", "Obj. 140", "Leopard 1", "M48A5 Patton", "Progetto 65", "T-100 LT", "AMX 13 105", "Sheridan", "WZ-132-1", "Grille 15", "Obj. 268 v4", "T110E3", "Strv 103B", "BZ-176", "M47 Iron Arnie", "Char Mle. 75", "T95/FV4201 Chieftain", "Type 5 Heavy", "FV215b", "CS-63", "Centurion AX", "Kranvagn", "E 100", "STB-1", "Bat.-Ch√¢tillon 25 t", "Obj. 277", "Super Conqueror", "UDES 15/16", "T57 Heavy", "AMX M4 54", "T-62A", "TVP T 50/51", "121", "Minotauro", "Obj. 263", "VK 72.01 K", "Obj. 705A", "WZ-111 QL", "Char Futur 4", "T26E5", "Skorpion G", "SU-130PM", "IS-3-II", "ISU-152K", "Progetto 46", "Bourrasque", "Somua SM"];

    const missions = ["–ó–Ω–∏—â–∏—Ç–∏ 3 –≤–æ—Ä–æ–∂—ñ —Ç–∞–Ω–∫–∏", "–ù–∞–Ω–µ—Å—Ç–∏ 3000+ —à–∫–æ–¥–∏", "–í–∏–∂–∏—Ç–∏ –¥–æ –∫—ñ–Ω—Ü—è –±–æ—é", "–ó—Ä–æ–±–∏—Ç–∏ 5+ –ø—ñ–¥—Å–≤—ñ—Ç—ñ–≤", "–ó–Ω–∏—â–∏—Ç–∏ –∞—Ä—Ç–∏–ª–µ—Ä—ñ—é", "2+ —Ñ—Ä–∞–≥–∏ –±–µ–∑ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —à–∫–æ–¥–∏", "1000+ —à–∫–æ–¥–∏ –∑–∞ –ø—ñ–¥—Å–≤—ñ—Ç–∞–º–∏", "2 —Ç–∞–Ω–∫–∏ –≤ –±–ª–∏–∂–Ω—å–æ–º—É –±–æ—é", "–ú–µ–¥–∞–ª—å –û—Å–Ω–æ–≤–Ω–∏–π –∫–∞–ª—ñ–±—Ä", "3+ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è", "–ó–Ω–∏—â–∏—Ç–∏ —Ç–∞–Ω–∫ –Ω–∞ 2 —Ä—ñ–≤–Ω—ñ –≤–∏—â–µ", "–í–∏–∂–∏—Ç–∏ –∑ <10% HP", "5+ –≤–ª—É—á–∞–Ω—å –ø–æ—Å–ø—ñ–ª—å", "–ó–∞—Ö–æ–ø–∏—Ç–∏ –∞–±–æ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –±–∞–∑—É", "–ó–Ω–∏—â–∏—Ç–∏ –∑–∞—Ö–æ–ø–ª—é–≤–∞—á–∞ –±–∞–∑–∏", "–ú–µ–¥–∞–ª—å –í–æ—ó–Ω", "2 —Ñ—Ä–∞–≥–∏ –∑–∞ 30 —Å–µ–∫", "–ó–Ω–∏—â–∏—Ç–∏ —Ç–∞—Ä–∞–Ω–æ–º", "–ó–Ω–∏—â–∏—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–º —Å–Ω–∞—Ä—è–¥–æ–º", "500+ —à–∫–æ–¥–∏ –±–µ–∑ –≤–∏—è–≤–ª–µ–Ω–Ω—è"];

    let spinning = false;
    let currentAngle = { tank: 0, mission: 0 };

    function drawWheel(canvasId, items, angleOffset = 0, highlightIndex = -1) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext("2d");
      const radius = canvas.width / 2;
      const centerX = radius;
      const centerY = radius;
      const total = items.length;
      const angleStep = (2 * Math.PI) / total;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (let i = 0; i < total; i++) {
        const angle = i * angleStep + angleOffset;
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, angle, angle + angleStep);
        ctx.fillStyle = (i === highlightIndex) ? "#ffa600" : (i % 2 === 0 ? "#ff6600" : "#1a1a1a");
        ctx.fill();
        ctx.save();
        ctx.translate(centerX, centerY);
        ctx.rotate(angle + angleStep / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "white";
        ctx.font = "10px sans-serif";
        ctx.fillText(items[i].slice(0, 22), radius - 10, 4);
        ctx.restore();
      }
    }

    function spin(type) {
      if (spinning) return;
      spinning = true;

      const canvasId = type === 'tank' ? 'tankWheel' : 'missionWheel';
      const resultId = type === 'tank' ? 'tankResult' : 'missionResult';
      const items = type === 'tank' ? tanks : missions;
      let angle = currentAngle[type];
      let velocity = Math.random() * 0.3 + 0.6;
      const deceleration = 0.002 + Math.random() * 0.003;
      let lastIndex = -1;

      const interval = setInterval(() => {
        angle += velocity;
        velocity *= 0.982;

        const index = Math.floor(((3 * Math.PI / 2 - (angle % (2 * Math.PI)) + 2 * Math.PI) % (2 * Math.PI)) / (2 * Math.PI) * items.length) % items.length;

        if (index !== lastIndex) {
          lastIndex = index;
        }

        drawWheel(canvasId, items, angle, index);

        if (velocity < deceleration) {
          clearInterval(interval);
          currentAngle[type] = angle % (2 * Math.PI);
          const selected = items[index];
          document.getElementById(resultId).textContent = selected;
          spinning = false;

          const tank = document.getElementById('tankResult').textContent;
          const mission = document.getElementById('missionResult').textContent;
          if (tank !== '...' && mission !== '...') {
            document.getElementById('taskTank').textContent = tank;
            document.getElementById('taskMission').textContent = mission;
          }
        }
      }, 20);
    }

    window.onload = () => {
      drawWheel("tankWheel", tanks);
      drawWheel("missionWheel", missions);
    };
  </script>
</body>
</html>
